openapi: 3.0.3

info:
  title: Claustrophobia.com private APIs specifications
  description: Claustrophobia.com private APIs specifications
  version: 2.0.0

servers:
  - url: 'https://claustrophobia.com/'
  - url: 'https://sandbox.claustrophobia.com/'

paths:
  /api/v2/contacts/:
    post:
      summary: –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
      description: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
      operationId: ContactsFeedback
      tags:
        - –ö–æ–Ω—Ç–∞–∫—Ç—ã
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: –ò–≤–∞–Ω
                email:
                  type: string
                  example: ivan@mail.ru
                phone:
                  type: string
                  example: +7 900 000-00-00
                comment:
                  type: string
                  example: –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
      
      responses:
        '200':
          description: –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.
        
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                    example: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.
                  email:
                    type: string
                    example: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.
                  phone:
                    type: string
                    example: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.
                  comment:
                    type: string
                    example: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.

  /api/v2/registration/:
    post:
      summary: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
      description: User registration
      operationId: Registration
      tags:
        - –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
      requestBody:
        description: Registration data
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegistrationData'
      
      responses:
        '200':
          description: Registration sucessful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegistrationSucessful'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegistrationError'

  /api/login:
    post:
      summary: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
      description: User login
      operationId: Login
      tags:
        - –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
      requestBody:
        description: User data
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginData'
      
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessfulLogin'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginError'
  
  /api/recover:
    post:
      summary: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
      description: Recovery password
      operationId: RecoveryPassword
      tags:
        - –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
      requestBody:
        description: Recovery data
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RecoveryData'
      
      responses:
        '200':
          description: Recovery sucessful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecoverySucessful'
        '400':
          description: Recovery error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecoveryError'
  
  /api/v2/send-sms-code/:
    post:
      summary: –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
      description: Get SMS Code
      operationId: GetSMSCode
      tags:
        - –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
      requestBody:
        description: Recovery data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: integer
                  example: 1
                phone:
                  type: string
                  example: "+79689588604"
      
      responses:
        '200':
          description: Recovery sucessful
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: string
                    example: –í–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        
        '400':
          description: Bad Requests
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        
        '429':
          description: Too Many Requests
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ sms
        
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  
  /api/v2/phone_confirmation/:
    post:
      summary: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
      description: Phone confirmation
      operationId: PhoneConfirmation
      tags:
        - –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
      requestBody:
        description: Recovery data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: integer
                  example: 1
                sms_code:
                  type: string
                  example: "123456"
      
      responses:
        '200':
          description: Recovery sucessful
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
        
        '400':
          description: Bad Requests
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥
                  status:
                    type: string
                    example: wrong_code
  
  /api/v1/timetable:
    get:
      summary: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å —Ç–∞–π–º—Å–ª–æ—Ç–∞–º–∏
      description: Returns list of Timeslot objects and Quest info
      operationId: getTimeslotsList
      tags:
        - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      parameters:
        - name: quests
          in: query
          description: Quest type or quest id or list of quest ids
          required: true
          schema:
            enum:
              - 100
              - 100,777
              - 'all'
              - 'available'
              - 'vr'
              - 'polygon_pvp'
              - 'polygon_pve'
            example: 100

        - name: start_date
          in: query
          description: First day of the schedule in DD.MM.YYYY format
          required: true
          schema:
            type: string
            format: date
            example: '22.12.2021'

        - name: end_date
          in: query
          description: Last day of the schedule in DD.MM.YYYY format (or offset required)
          schema:
            type: string
            format: date
            example: '31.12.2021'

        - name: offset
          in: query
          description: Number of days in the schedule. Minimum ‚Äî 1, maximum ‚Äî 90 (or end_date required)
          schema:
            type: integer
            example: null

        - name: city
          in: query
          description: City id (default 1 ‚Äî Moscow)
          schema:
            type: integer
            example: 1

        - name: location
          in: query
          description: Location id (default ‚Äî None)
          schema:
            type: integer
            example: null

        - name: mode
          in: query
          description: nested in order to sort timeslots by day and quest (default ‚Äî flat)
          schema:
            type: string
            enum:
              - 'flat'
              - 'nested'
            example: 'flat'
      
      responses:
        '200':
          description: A JSON objects with Timeslot representation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeslotResponse'
        '401':
          description: Unauthorized request
  
  /api/v2/timeslots/:
    get:
      summary: –¢–∞–π–º—Å–ª–æ—Ç—ã –±–µ–∑ –∫–≤–µ—Å—Ç–æ–≤
      description: Returns list of Timeslot objects
      operationId: getTimeslots
      tags:
        - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      parameters:
        - name: quests
          in: query
          description: Quest type or quest id or list of quest ids
          required: true
          schema:
            enum:
              - 100
              - 100,777
              - 'all'
              - 'available'
              - 'vr'
              - 'polygon_pvp'
              - 'polygon_pve'
            example: 100

        - name: start_date
          in: query
          description: First day of the schedule in DD.MM.YYYY format
          required: true
          schema:
            type: string
            format: date
            example: '22.12.2021'

        - name: end_date
          in: query
          description: Last day of the schedule in DD.MM.YYYY format (or offset required)
          schema:
            type: string
            format: date
            example: '31.12.2021'

        - name: offset
          in: query
          description: Number of days in the schedule. Minimum ‚Äî 1, maximum ‚Äî 90 (or end_date required)
          schema:
            type: integer
            example: null

        - name: city
          in: query
          description: City id (default 1 ‚Äî Moscow)
          schema:
            type: integer
            example: 1

        - name: location
          in: query
          description: Location id (default ‚Äî None)
          schema:
            type: integer
            example: null

        - name: mode
          in: query
          description: nested in order to sort timeslots by day and quest (default ‚Äî flat)
          schema:
            type: string
            enum:
              - 'flat'
              - 'nested'
            example: 'flat'
      
      responses:
        '200':
          description: A JSON objects with Timeslot representation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Timeslot'
        '401':
          description: Unauthorized request
  
  /api/timeslot_booking/:
    get:
      summary: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–∞–π–º—Å–ª–æ—Ç–µ
      description: Returns booked Timeslot with additional information
      operationId: getBookedTimeslot
      tags:
        - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      parameters:
        - name: timeslot_id
          in: query
          description: Timeslot id
          required: true
          schema:
            type: integer
            example: 4115304
        - name: lang
          in: query
          description: Display language
          schema:
            type: string
            example: 'ru'
      
      responses:
        '200':
          description: Returns Timeslot
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BookedTimeslotResponse'
        '404':
          description: Timeslot not found
    
    post:
      summary: "–®–∞–≥ 1: –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
      description: Book Timeslot
      operationId: BookTimeslot
      tags:
        - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      
      requestBody:
        description: Order data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                timeslot:
                  type: integer
                  description: Timeslot id
                  example: 3004725
                
                tickets_count:
                  type: integer
                  description: Number of tickets
                  example: 0
                
                language_code:
                  type: string
                  description: Language code
                  example: 'ru'
                
                partial_prepay:
                  type: boolean
                  description: Partial prepay
                  example: false
                
                additional_services:
                  type: array
                  items:
                    type: object
                    description: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
                    properties:
                      id:
                        type: integer
                        example: 24
                      count:
                        type: integer
                        example: 1
              
              required:
                - timeslot
      
      responses:
        '200':
          description: Successful booking
          content:
            application/json:
              schema:
                type: object
                properties:
                  game:
                    $ref: '#/components/schemas/ExistingGame'
                  msg:
                    type: string
                    example: –ò–≥—Ä–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞
                  user_msg_display:
                    type: string
                    example: –ò–≥—Ä–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞
        '403':
          description: Forbidden
  
  /api/applypromocode/:
    post:
      summary: "–®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞"
      description: Apply Promocode
      operationId: ApplyPromocode
      tags:
        - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      
      requestBody:
        description: Order data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                game_id:
                  type: integer
                  example: 3004725
                
                promocode:
                  type: string
                  example: HALLO
              
              
              required:
                - timeslot
      
      responses:
        '200':
          description: Successful booking
          content:
            application/json:
              schema:
                type: object
                properties:
                  prepay_price:
                    type: integer
                    example: 900
                  resulting_price:
                    type: integer
                    example: 3555
                  free_game:
                    type: boolean
                    example: false
                  result:
                    type: string
                    example: success
                  msg:
                    type: string
                    example: –ü—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω
                  discount_amount:
                    type: integer
                    example: 395
        '400':
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
                  user_msg_display:
                    type: string
                    example: –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
                  error:
                    type: boolean
                    example: true
        
        '403':
          description: Forbidden
  
  /api/usecertificate/:
    post:
      summary: "–®–∞–≥ 3: –û–ø–ª–∞—Ç–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º"
      description: Use Certificate
      operationId: UseCertificate
      tags:
        - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      
      requestBody:
        description: Order data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                game_id:
                  type: integer
                  example: 4
                certificate_serial:
                  type: integer
                  example: 123
                certificate_code:
                  type: string
                  example: "1111 1111 1111 1111"
      
      responses:
        '200':
          description: Successful booking
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: boolean
                    example: False
                  msg:
                    type: string
                    example: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –æ–ø–ª–∞—Ç—ã –∏–≥—Ä—ã
                  redirect_to:
                    type: string
                    example: "/pay/success/3/"
        
        '400':
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  form_errors:
                    type: object
                    properties:
                      certificate_serial:
                        type: array
                        items:
                          type: string
                          example: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –Ω–µ –ø—Ä–æ–¥–∞–Ω–Ω—ã–π. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ –∞–¥—Ä–µ—Å—É helpme@claustrophobia.com
                  error:
                    type: boolean
                    example: true
        
        
        '403':
          description: Forbidden
          
                    
  /pay/api/:
    post:
      summary: "–®–∞–≥ 4: –û–ø–ª–∞—Ç–∞"
      description: Pay
      operationId: Pay
      tags:
        - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      
      requestBody:
        description: Order data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                game_id:
                  type: integer
                  example: 4
                payment_method:
                  type: string
                  example: kassa
                partial_prepay:
                  type: boolean
                  example: false
                mode:
                  type: string
                  enum: [full, partial, extra]
                  
      responses:
        '200':
          description: Successful payment
          content:
            application/json:
              schema:
                type: object
                properties:
                  confirmation:
                    type: string
                    example: redirect
                  msg:
                    type: string
                    example: Redirect required
                  redirect_url:
                    type: string
                    example: "https://yoomoney.ru/checkout/payments/v2/contract?orderId=2a5f353c-000f-5000-8000-13b63eff75f5"
                  result:
                    type: string
                    example: success
        
        '403':
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: –û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞! –ò–≥—Ä–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.
                  
                  result:
                    type: string
                    example: error
                  
                  show_error:
                    type: boolean
                    example: True

  /api/v2/whoami:
    get:
      summary: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
      description: Returns User object
      operationId: getUserInfo
      tags:
        - –î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
      responses:
        '200':
          description: A JSON objects with User representation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: Authentication credentials were not provided.
        
        '404':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: Not found
  
  /api/v2/cities/:
    get:
      summary: –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤
      description: Returns list of City objects
      operationId: getCitiesList
      tags:
        - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
      responses:
        '200':
          description: A JSON array of City objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/City'
  
  /api/v2/cities/{cityId}/locations/:
    get:
      summary: –°–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π
      description: Returns list of available locations
      operationId: getCityLocationsList
      tags:
        - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
      parameters:
        - in: path
          name: cityId
          required: true
          schema:
            type: integer
            minimum: 1
          description: The City ID
      responses:
        '200':
          description: A JSON array of Location objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Location'
  
  /api/v2/cities/{cityId}/locations/{locationId}/:
    get:
      summary: –õ–æ–∫–∞—Ü–∏—è
      description: Returns location
      operationId: getLocation
      tags:
        - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
      parameters:
        - in: path
          name: cityId
          required: true
          schema:
            type: integer
            minimum: 1
          description: The City ID
        - in: path
          name: locationId
          required: true
          schema:
            type: integer
            minimum: 1
          description: The Location ID
      responses:
        '200':
          description: A JSON array of Location objects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Location'
  
  /api/v2/cities/{cityId}/showcases/:
    get:
      summary: –í–∏—Ç—Ä–∏–Ω–∞ –∫–≤–µ—Å—Ç–æ–≤
      description: Returns list of city available showcase
      operationId: getCityShowcaseList
      tags:
        - –ì–ª–∞–≤–Ω–∞—è
      parameters:
        - in: path
          name: cityId
          required: true
          schema:
            type: integer
            minimum: 1
          description: The City ID
      responses:
        '200':
          description: A JSON array of Showcase objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Showcase'
  
  /api/v2/cities/{cityId}/quests/:
    get:
      summary: –ö–≤–µ—Å—Ç—ã –≥–æ—Ä–æ–¥–∞
      description: Returns list of city quests
      operationId: getCityQuestList
      tags:
        - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
      parameters:
        - in: path
          name: cityId
          required: true
          schema:
            type: integer
            minimum: 1
          description: The City ID
      responses:
        '200':
          description: A JSON array of Quest objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Quest'

  /api/v2/showcase/{showcaseId}/:
    get:
      summary: –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∏—Ç—Ä–∏–Ω—ã
      operationId: getShowcaseById
      tags:
        - –í–∏—Ç—Ä–∏–Ω–∞
      parameters:
        - in: path
          name: showcaseId
          required: true
          schema:
            type: integer
            minimum: 1
          description: Showcase ID
      responses:
        '200':
          description: Showcase object
          content:
            application/json:
              schema:
                type: object
                $ref: '#/components/schemas/Showcase'

  
  /api/v2/cities/{cityId}/tags/{questTagType}/:
    get:
      summary: –ë–ª–æ–∫ "–ñ–∞–Ω—Ä—ã" / "–Ø —Ö–æ—á—É"
      operationId: getGenericCityTagsList
      tags:
        - –ì–ª–∞–≤–Ω–∞—è
      parameters:
        - in: path
          name: cityId
          required: true
          schema:
            type: integer
            minimum: 1
          description: The City ID
        - in: path
          name: questTagType
          required: True
          schema:
            type: string
            enum: [ generic, genre, iwant ]
      
      responses:
        '200':
          description: A JSON array of Tag objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Tag'
  
  /api/v2/blog/short-posts/:
    get:
      summary: –ó–∞–∫—É–ª–∏—Å—å–µ –ö–ª–∞—É—Å—Ç—Ä–æ—Ñ–æ–±–∏–∏
      operationId: getShortBlogPosts
      tags:
        - –ì–ª–∞–≤–Ω–∞—è
      responses:
        '200':
          description: A JSON array of Post objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BlogShortPost'
  
  /api/v2/blog/promo-posts/:
    get:
      summary: –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ —Å—Å—ã–ª–∫–∞–º–∏
      operationId: getPromoBlogPosts
      tags:
        - –ì–ª–∞–≤–Ω–∞—è
      responses:
        '200':
          description: A JSON array of Post objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BlogPromoPost'
  
  /api/v2/countries/:
    get:
      summary: –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω –∏ –≤–∞–ª—é—Ç
      description: Returns list of countries
      operationId: getCountries
      tags:
        - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
      responses:
        '200':
          description: A JSON array of Country objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Country'
  
  /api/v2/cities/{cityId}/stations:
    get:
      summary: –°–ø–∏—Å–æ–∫ —Å—Ç–∞–Ω—Ü–∏–π –º–µ—Ç—Ä–æ
      description: Returns list of city stations
      operationId: getCityStationsList
      tags:
        - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
      parameters:
        - in: path
          name: cityId
          required: true
          schema:
            type: integer
            minimum: 1
          description: The City ID
      responses:
        '200':
          description: A JSON array of Station objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Station'
  
  /api/v2/quests/{questId}/feedbacks/:
    get:
      summary: –°–ø–∏—Å–æ–∫ –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –∫–≤–µ—Å—Ç
      tags:
        - –ö–≤–µ—Å—Ç
      parameters:
        - in: path
          name: questId
          required: true
          schema:
            type: integer
            minimum: 1
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –∫–≤–µ—Å—Ç
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuestFeedback'
  
  /api/v2/wizard-steps/:
    get:
      summary: –®–∞–≥–∏ –¥–ª—è –í–∏–∑–∞—Ä–¥–∞
      description: Returns Steps Data
      operationId: getStepsData
      tags:
        - –ì–ª–∞–≤–Ω–∞—è

      responses:
        '200':
          description: Filtered Quests
          content:
            application/json:
              schema:
                type: object
                properties:
                  1:
                    type: array
                    items:
                      type: object
                    example: [
                      {
                        'query': 'who-plays',
                        'title': '–° –∫–µ–º –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏–≥—Ä–∞—Ç—å?',
                        'form': 'radio',
                        'background': 'img/001.jpg',
                        'items': {
                          'friends': {
                            'display': '—Å –¥—Ä—É–∑—å—è–º–∏',
                          },
                          'family': {
                            'display': '—Å —Å–µ–º—å–µ–π',
                          },
                          'oneself': {
                            'display': '–≤ –æ–¥–∏–Ω–æ—á–∫—É',
                          },
                          'colleagues': {
                            'display': '—Å –∫–æ–ª–ª–µ–≥–∞–º–∏',
                          },
                          'children': {
                            'display': '—Ç–æ–ª—å–∫–æ –¥–µ—Ç–∏',
                          }
                        },
                      }
                    ]
                  2:
                    type: array
                    items:
                      type: object
                    example: [
                      {
                        'query': 'is_performance',
                        'title': '–î–æ–±–∞–≤–∏–º –∞–∫—Ç—ë—Ä–æ–≤ –≤ –∫–≤–µ—Å—Ç?',
                        'form': 'switcher',
                        'items': {
                          'yes': {
                            'display': '–¥–∞',
                            'image': '/img/yes.jpg'
                          },
                          'no': {
                            'display': '–Ω–µ—Ç',
                            'image': '/img/no.jpg'
                          }
                        },
                        'default': 'yes'
                      }
                    ]
                  3:
                    type: array
                    items:
                      type: object
                    example: [
                      {
                        'query': 'complexity',
                        'title': '–ù–∞—Å–∫–æ–ª—å–∫–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ?',
                        'form': 'range',
                        'depends_on': {
                          'is_performance': [ 'no' ],
                        },
                        'items': {
                          'simple': {
                            'display': '–ø—Ä–æ—Å—Ç–æ',
                            'image': '/img/simple.jpg'
                          },
                          'medium': {
                            'display': '—Å—Ä–µ–¥–Ω–µ',
                            'image': '/img/medium.jpg'
                          },
                          'difficult': {
                            'display': '—Å–ª–æ–∂–Ω–æ',
                            'image': '/img/difficult.jpg'
                          },
                          'very': {
                            'display': '–æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ',
                            'image': '/img/very.jpg'
                          },
                        },
                        'default': 'simple'
                      },
                      {
                        'query': 'fear_level',
                        'title': '–ù–∞—Å–∫–æ–ª—å–∫–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–∞—à–Ω–æ?',
                        'form': 'range',
                        'depends_on': {
                          'is_performance': [ 'yes' ],
                        },
                        'items': {
                          'not': {
                            'display': '–Ω–µ—Å—Ç—Ä–∞—à–Ω–æ',
                            'image': '/img/not.jpg'
                          },
                          'bit': {
                            'display': '–Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ',
                            'image': '/img/bit.jpg'
                          },
                          'medium': {
                            'display': '—Å—Ä–µ–¥–Ω–µ',
                            'image': '/img/medium.jpg'
                          },
                          'scary': {
                            'display': '—Å—Ç—Ä–∞—à–Ω–æ',
                            'image': '/img/scary.jpg'
                          },
                          'very': {
                            'display': '–æ—á–µ–Ω—å —Å—Ç—Ä–∞—à–Ω–æ',
                            'image': '/img/very.jpg'
                          },
                        },
                        'default': 'not'
                      },
                      {
                        'query': 'has_cowardly',
                        'title': '–í –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –µ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ö–æ—Ç—è—Ç –±–æ—è—Ç—å—Å—è',
                        'form': 'switcher',
                        'depends_on': {
                          'is_performance': [ 'yes' ],
                        },
                        'items': {
                          'yes': {
                            'display': '–¥–∞',
                          },
                          'no': {
                            'display': '–Ω–µ—Ç',
                          }
                        },
                        'default': 'yes'
                      }
                    ]
                  4:
                    type: array
                    items:
                      type: object
                    example: [
                      {
                        'query': 'gamers_count',
                        'title': '–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –±—É–¥–µ—Ç –∏–≥—Ä–∞—Ç—å?',
                        'form': 'range',
                        'items': {
                          1: {
                            'display': '1',
                            'image': '/img/1.jpg'
                          },
                          2: {
                            'display': '2',
                            'image': '/img/2.jpg'
                          },
                          3: {
                            'display': '3',
                            'image': '/img/3.jpg'
                          },
                          4: {
                            'display': '4',
                            'image': '/img/4.jpg'
                          },
                          5: {
                            'display': '5',
                            'image': '/img/5.jpg'
                          },
                          6: {
                            'display': '6',
                            'image': '/img/6.jpg'
                          },
                          7: {
                            'display': '7',
                            'image': '/img/7.jpg'
                          },
                          8: {
                            'display': '>8',
                            'image': '/img/8.jpg'
                          },
                        },
                        'default': 1
                      },
                      {
                        'query': 'has_child',
                        'title': '–í –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –µ—Å—Ç—å –∏–≥—Ä–æ–∫–∏ –º–ª–∞–¥—à–µ 18',
                        'form': 'switcher',
                        'items': {
                          'yes': {
                            'display': '–¥–∞',
                          },
                          'no': {
                            'display': '–Ω–µ—Ç',
                          }
                        },
                        'default': 'no'
                      }
                    ]
                  5:
                    type: array
                    items:
                      type: object
                    example: [
                      {
                        'query': 'tags',
                        'title': '–ê —á—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω–æ?',
                        'form': 'checkbox',
                        'background': 'img/1.jpg',
                        'depends_on': {
                          'who-plays': [ 'children', 'family' ],
                          'has_child': [ 'yes' ],
                        },
                        'items': {
                          'unusual': {
                            'display': '–Ω–µ–æ–±—ã—á–Ω—ã–µ',
                            'image': '/img/1.jpg'
                          },
                          'outdoor': {
                            'display': '–ø–æ–¥–≤–∏–∂–Ω—ã–µ',
                            'image': '/img/2.jpg'
                          },
                          'adventure': {
                            'display': '–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è',
                            'image': '/img/3.jpg'
                          },
                        },
                      },
                      {
                        'query': 'tags',
                        'title': '–ê —á—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω–æ?',
                        'form': 'checkbox',
                        'background': 'img/1.jpg',
                        'depends_on': {
                          'who-plays': [ 'friends', 'oneself', 'colleagues' ],
                          'has_child': [ 'no' ],
                        },
                        'items': {
                          'unusual': {
                            'display': '–Ω–µ–æ–±—ã—á–Ω—ã–µ',
                            'image': '/img/1.jpg'
                          },
                          'outdoor': {
                            'display': '–ø–æ–¥–≤–∏–∂–Ω—ã–µ',
                            'image': '/img/2.jpg'
                          },
                          'adventure': {
                            'display': '–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è',
                            'image': '/img/3.jpg'
                          },
                          '18+': {
                            'display': '18+',
                            'image': '/img/1.jpg'
                          },
                          'ero': {
                            'display': '—ç—Ä–æ—Ç–∏—á–µ—Å–∫–∏–µ',
                            'image': '/img/2.jpg'
                          },
                          'zombie': {
                            'display': '–∑–æ–º–±–∏',
                            'image': '/img/3.jpg'
                          },
                        },
                      }
                    ]
                  6:
                    type: array
                    items:
                      type: object
                    example: [
                      {
                        'query': 'quests',
                        'title': '–ê –≥–¥–µ —É–¥–æ–±–Ω–µ–µ?',
                        'form': 'map',
                        'background': 'img/1.jpg',
                        'quests': [
                          {
                            'id': 123,
                            'latitude': '42.875549346119016',
                            'longitude': '74.61982191733546'
                          },
                          {
                            'id': 124,
                            'latitude': '42.875549346119016',
                            'longitude': '74.61982191733546'
                          }
                        ]
                      }
                    ]
  
  /api/v2/quests/search/:
    get:
      summary: –°–ø–∏—Å–æ–∫ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∫–≤–µ—Å—Ç–æ–≤ –¥–ª—è –í–∏–∑–∞—Ä–¥–∞
      description: Returns Filtered Quests
      operationId: getFilteredQuests
      tags:
        - –ì–ª–∞–≤–Ω–∞—è
      parameters:
        - name: who_plays
          in: query
          description: –° –∫–µ–º –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏–≥—Ä–∞—Ç—å?
          schema:
            type: string
            example: alone

        - name: quest_type
          in: query
          description: –ê –∫–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–±–µ—Ä–µ—Ç–µ?
          schema:
            type: string
            example: vr

        - name: gamers
          in: query
          description: –°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –±—É–¥–µ—Ç –∏–≥—Ä–∞—Ç—å?
          schema:
            type: integer
            example: 2

        - name: has_child
          in: query
          description: –í –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –µ—Å—Ç—å –∏–≥—Ä–æ–∫–∏ –º–ª–∞–¥—à–µ 18
          schema:
            type: boolean
            example: false

        - name: fear_level
          in: query
          description: –ù–∞—Å–∫–æ–ª—å–∫–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–∞—à–Ω–æ?
          schema:
            type: integer
            example: 5

        - name: complexity
          in: query
          description: –ù–∞—Å–∫–æ–ª—å–∫–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ?
          schema:
            type: integer
            example: 5

        - name: has_cowardly_players
          in: query
          description: –í –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –µ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ö–æ—Ç—è—Ç –±–æ—è—Ç—å—Å—è
          schema:
            type: boolean
            example: false

        - name: performance
          in: query
          description: –î–æ–±–∞–≤–∏–º –∞–∫—Ç—ë—Ä–æ–≤ –≤ –∫–≤–µ—Å—Ç?
          schema:
            type: boolean
            example: true

        - name: categories
          in: query
          description: –ê —á—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω–æ?
          schema:
            type: string
            example: —Å–µ–º–µ–π–Ω—ã–µ,18+,—Ü–∏—Ä–∫

        - name: quests
          in: query
          description: –ê –≥–¥–µ —É–¥–æ–±–Ω–µ–µ?
          schema:
            type: string
            example: 101,200,777,656

        - name: start_date
          in: query
          description: –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
          schema:
            type: string
            example: 14.03.2022

        - name: end_date
          in: query
          description: –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
          schema:
            type: string
            example: 18.03.2022

        - name: start_time
          in: query
          description: –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
          schema:
            type: string
            example: 12:30

        - name: end_time
          in: query
          description: –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
          schema:
            type: string
            example: 16:30
      
      responses:
        '200':
          description: Filtered Quests
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestInfoWithPercent'
        '401':
          description: Unauthorized request
  
  /api/v2/quests/{questId}/last-photos/:
    get:
      summary: –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å –∏–≥—Ä –∫–≤–µ—Å—Ç–∞
      tags:
        - –ö–≤–µ—Å—Ç
      parameters:
        - in: path
          name: questId
          required: true
          schema:
            type: integer
            minimum: 1
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å –∏–≥—Ä –∫–≤–µ—Å—Ç–∞
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/QuestPhoto'

  /api/v2/loyalty/charity/:
    get:
      summary: –°–ø–∏—Å–æ–∫ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
      operationId: getCharityVenues
      tags:
        - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
      responses:
        '200':
          description: A JSON array of CharityVenue objects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CharityVenue'
      

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  
  schemas:

    CharityVenue:
      type: object
      properties:
        name:
          type: string
          example: –§–æ–Ω–¥ ¬´–°–æ–±–∞–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ª—é–±—è—Ç¬ª
        description:
          type: string
          example: –ü–æ–º–æ–≥–∞–µ–º –Ω–µ—Ä–∞–≤–Ω–æ–¥—É—à–Ω—ã–º –ª—é–¥—è–º –ª–µ—á–∏—Ç—å –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –¥–æ–º –±–µ–∑–¥–æ–º–Ω—ã–º –∂–∏–≤–æ—Ç–Ω—ã–º
        photo_url:
          type: string
          example: https://media.claustrophobia.com/media/3.jpg
        logo_url:
          type: string
          example: https://media.claustrophobia.com/media/3.jpg

        

    QuestPhoto:
      type: object
      properties:
        team_name:
          type: string
          example: –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä
        quests_completed:
          type: integer
          example: 3
        last_game_date:
          type: string
          example: 09.03.2022
        passed_in:
          type: string
          example: 1 —á–∞—Å 27 –º–∏–Ω—É—Ç
        photo_url:
          type: string
          example: game_images/3.jpg
        photo_thumbnail_url:
          type: string
          example: game_images/thumbnails/3.jpg
    
    QuestFeedback:
      type: object
      properties:
        feedback_text:
          type: string
          example: –í—Å—ë —Å—É–ø–µ—Ä üëè –ú–∏—Ö–∞–∏–ª –ª—É—á—à–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä üî•
        user:
          type: object
          properties:
            first_name:
              type: string
              example: –í–∞—Å—è
            last_name:
              type: string
              example: –ü—É–ø–∫–∏–Ω
            nickname:
              type: string
              example: –í–æ–µ–≤–æ–¥–∞2004
            avatar:
              type: string
              example: media/u/user_avatar.jpg
        expert:
          type: object
          properties:
            title:
              type: string
              example: –∫–≤–µ—Å—Ç-—Å—Ç–∞–∂—ë—Ä
            slug:
              type: string
              example: trainee
        games_info:
          type: object
          properties:
            quests_completed:
              type: integer
              example: 3
            last_game_date:
              type: string
              example: 09.03.2022
            last_game_time:
              type: string
              example: 12:30
    
    Country:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: –†–æ—Å—Å–∏—è
        phone_cc:
          type: string
          example: 7
        iso_code:
          type: string
          example: ru
        currency:
          type: object
          properties:
            name:
              type: string
              example: –†–æ—Å—Å–∏–π—Å–∫–∏–π –†—É–±–ª—å
            numcode:
              type: string
              example: 643
            charcode:
              type: string
              example: RUB
    
    BlogShortPost:
      type: object
      properties:
        id:
          type: integer
          example: 1
        title:
          type: string
          example: –ö–≤–µ—Å—Ç-—Ö—ç–π—Ç–µ—Ä ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –±—É–¥—É—â–µ–≥–æ
        image:
          type: string
          example: blog_images/3.jpg
        url:
          type: string
          example: https://claustrophobia.com/ru/blog/post/pervyy-marketpleys-razvlecheniy-v-rossii/
    
    BlogPromoPost:
      type: object
      properties:
        id:
          type: integer
          example: 1
        type:
          type: string
          enum: [ big, small ]
        title:
          type: string
          example: –ö–≤–µ—Å—Ç-—Ö—ç–π—Ç–µ—Ä ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –±—É–¥—É—â–µ–≥–æ
        body:
          type: string
          example: –ö–≤–µ—Å—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ &mdash; —ç—Ç–æ –≤—Å–µ–≥–¥–∞ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–µ–µ—Å—è —Å–æ–±—ã—Ç–∏–µ
        image:
          type: string
          example: blog_images/3.jpg
        icon:
          type: string
          example: blog_images/icons/3.jpg
        button_text:
          type: string
          example: –û—Ç–∫—Ä—ã—Ç—å
        button_link:
          type: string
          example: https://claustrophobia.com
        order:
          type: integer
          example: 0
    
    User:
      type: object
      properties:
        id:
          type: integer
          example: 200633
        name:
          type: string
          example: "Vladimir"
        phone:
          type: string
          example: "79999938527"
        email:
          type: string
          example: "ru.vgrishin@gmail.com"
        is_staff:
          type: boolean
          example: false
        is_superuser:
          type: boolean
          example: false
    
    City:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          example: –ú–æ—Å–∫–≤–∞
        slug:
          type: string
          example: moscow
        country:
          type: string
          example: –†–æ—Å—Å–∏—è
    
    Location:
      type: object
      properties:
        id:
          type: integer
          example: 138
        name:
          type: string
          example: –î–µ—Ç—Å–∫–∏–π —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä ABC
        city:
          $ref: '#/components/schemas/City'
        phone:
          type: string
          example: 0557-22-22-39
        email:
          type: string
          example: abc@claustrophobia.com
        address_ru:
          type: string
          example: –ø—Ä. –ß—É–π, –¥. 147/1
        address_description:
          type: string
          example: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ª–æ–∫–∞—Ü–∏–∏ –∏ –∫–∞–∫ –¥–æ–±–∏—Ä–∞—Ç—å—Å—è
        parking_description:
          type: string
          example: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∫–æ–≤–∫–∏
        latitude:
          type: string
          example: 42.875549346119016
        longitude:
          type: string
          example: 74.61982191733546
        metro:
          $ref: '#/components/schemas/Station'

    Tag:
      type: object
      properties:
        id:
          type: integer
          example: 12
        type:
          type: string
          example: GENERIC
        city:
          type: string
          example: –ú–æ—Å–∫–≤–∞
        name:
          type: string
          example: VR
        slug:
          type: string
          example: vr
        link:
          type: string
          example: https://moscow.claustrophobia.com/ru/vr/?from=categories
        order:
          type: integer
          example: 1
        icon:
          type: string
          example: ti/favicon-32x32.png
        image:
          type: string
          example: ti/images/image-256x256.png
        description:
          type: string
          example: ""
        hidden:
          type: boolean
          example: false
        is_adult:
          type: boolean
          example: false
        groups:
          type: array
          items:
            type: string
          example: [ –∫–≤–µ—Å—Ç—ã —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏,–∫–≤–µ—Å—Ç—ã –¥–ª—è —Å–≤–∏–¥–∞–Ω–∏–π ]

    Station:
      type: object
      properties:
        id:
          type: integer
        type:
          type: string
          enum: [ station, district ]
        city_id:
          type: integer
          example: 1
        quests:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                example: 123
              latitude:
                type: string
                example: 42.875549346119016
              longitude:
                type: string
                example: 74.61982191733546
        name:
          type: string
          example: "Paveletskaya"
        color:
          type: string
          example: 000fff

    Showcase:
      type: object
      properties:
        id:
          type: integer
        slug:
          type: string
          example: performance
        name:
          type: string
          example: –ö–≤–µ—Å—Ç—ã —Å –∞–∫—Ç—ë—Ä–∞–º–∏
          description: Name field with html tags support
        description:
          type: string
          example: –ö–∞–∂–¥–∞—è –∏–≥—Ä–∞ –∏–∑ —ç—Ç–æ–π –ø–æ–¥–±–æ—Ä–∫–∏ ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ —à–æ—É!
          description: Description field with html tags support
        promotion_type:
          type: string
          example: M
          description: Promo block display area
        promotion_type_display:
          type: string
          example: –ù–∞ –≥–ª–∞–≤–Ω–æ–π
        has_random_sorting:
          type: boolean
          description: –°–ª—É—á–∞–π–Ω–æ –ª–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∫–≤–µ—Å—Ç—ã –≤ –≤–∏—Ç—Ä–∏–Ω–µ
          example: false
        items:
          type: array
          description: JSON Array of compilations (positions preserved)
          items:
            $ref: '#/components/schemas/Quest'
    
    Quest:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
          example: Philosopher's <b>stone</b>
          description: Name field with html tags support
        slug:
          type: string
          example: "philosophers_stone"
        quest_page_url:
          type: string
          format: url
          description: Quest page relative url
          example: '/ru/performance/777/'
        is_top_quest:
          type: boolean
          description: –ù—É–∂–Ω–æ –ª–∏ –≤—ã–≤–æ–¥–∏—Ç—å –∫–≤–µ—Å—Ç –ø–µ—Ä–≤—ã–º –≤ –≤–∏—Ç—Ä–∏–Ω–µ
          example: false
        has_random_sort_priority:
          type: boolean
          description: –ò–º–µ–µ—Ç –ª–∏ –∫–≤–µ—Å—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ —Å–ª—É—á–∞–π–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ
          example: false
        tags:
          type: array
          items:
            type: string
          example: [ –î–ª—è –±–æ–ª—å—à–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –ü—Ä–æ—Å—Ç—ã–µ, –° –∞–∫—Ç–µ—Ä–∞–º–∏, –°—Ç—Ä–∞—à–Ω—ã–µ ]
        facts:
          type: array
          items:
            type: string
            example: –ö–æ–Ω—Ü–æ–≤–∫–∞ –∏–≥—Ä—ã –º–æ–∂–µ—Ç –Ω–∞—Å—á–∏—Ç—ã–≤–∞—Ç—å —Å–≤—ã—à–µ 170 –≤–∞—Ä–∏–∞—Ü–∏–π
        cover_url:
          type: string
          example: "https://media.claustrophobia.com/media/qb/100.jpg"
          description: Product cover image URL (JPEG, optimized)
        icon_url:
          type: string
          example: ""
          description: Product icon image URL (PNG with transparency, optimized)
        description:
          type: string
          example: This is <b>description</b>
          description: Description field with html tags support
        campaign_description:
          type: string
          example: –î–ª—è —Å–µ–∞–Ω—Å–æ–≤ —Å 21:00 –¥–æ—Å—Ç—É–ø–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–º—É —Å—Ü–µ–Ω–∞—Ä–∏—é.
        rating:
          type: string
          example: "0.91"
          description: –†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ –æ—Ç–∑—ã–≤–∞–º)
        expert_rating:
          type: string
          example: "0.85"
          description: –†–µ–π—Ç–∏–Ω–≥ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
        length:
          type: integer
          example: 60
          description: Product (escape game) length in minutes0
        age_restrictions:
          type: object
          properties:
            symbol:
              type: string
              example: "18+"
              description: Short symbol of age restrictions
            verbose:
              type: string
              example: "With parents only"
              description: Client-readable description of age restriction symbol
        gamers:
          type: object
          properties:
            min:
              type: integer
              example: 2
              description: Minimal number of players for this escape room
            max:
              type: integer
              example: 4
              description: Maximal number of players for this escape room
        location:
          $ref: '#/components/schemas/Location'
    
    RecoverySucessful:
      type: object
      properties:
        msg:
          type: string
          example: '–í–∞–º –Ω–∞ –ø–æ—á—Ç—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–∏—Å—å–º–æ —Å –¥–∞–ª—å–Ω–µ–π—à–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏'
        error:
          type: boolean
          example: false
    
    RecoveryError:
      type: object
      properties:
        msg:
          type: string
          example: '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞'
        error:
          type: boolean
          example: true
    
    RecoveryData:
      type: object
      description: Recovery data
      properties:
        email:
          type: string
          description: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±–µ–∑ +
          example: 'user@claustrophobia.com'
    
    RegistrationSucessful:
      type: object
      properties:
        status:
          type: string
          example: 'ok'
        redirect_to:
          type: string
          example: '/ru/registration_complete/'
        user_id:
          type: integer
          example: 529816
        user_profile_url:
          type: string
          example: '/ru/gamers/529816/'

    RegistrationError:
      type: object
      properties:
        errors:
          type: object
          properties:
            email:
              type: string
              example: '–¢–∞–∫–æ–π –∞–¥—Ä–µ—Å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'
            password:
              type: string
              example: '–≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ'
    
    RegistrationData:
      type: object
      description: Registration data
      required:
        - email
        - password
      properties:
        email:
          type: string
          example: 'markin@claustrophobia.com'
        password:
          type: string
          example: 'qwerty12345'
        is_subscribed_to_newsletter:
          type: boolean
          example: true
        utm_marker:
          type: string
          example: 'utm_source=inst&utm_medium=direct&utm_campaign=alchimik'
    
    
    SuccessfulLogin:
      type: object
      description: Successful login data
      properties:
        status:
          type: string
          example: 'ok'
        page_url:
          type: string
          description: Redirect url
          example: 'https://claustrophobia.com/ru/userprofile/529816/'
        user_id:
          type: integer
          example: 529816
        user_name:
          type: string
          example: 'markin'
        user_phone_required:
          type: boolean
          description: 'Need to request a phone number?'
          example: true
        foreign:
          type: boolean
          description: Is the user a foreigner?
          example: false
    
    LoginData:
      type: object
      description: Login data
      properties:
        login:
          type: string
          description: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±–µ–∑ +
          example: 'user@claustrophobia.com'
        password:
          type: string
          example: 'qwerty12345'
    
    LoginError:
      type: object
      description: Login Error
      properties:
        status:
          type: string
          example: 'error'
        errors:
          type: object
          properties:
            password:
              type: string
              example: '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å'
    
    TimeslotResponse:
      type: array
      items:
        type: array
        items:
          anyOf:
            - $ref: '#/components/schemas/Timeslot'
            - $ref: '#/components/schemas/QuestInfo'
    
    Timeslot:
      type: array
      items:
        type: object
        properties:
          id:
            type: integer
            description: Timeslot id
            example: 4258793
          
          quest_id:
            type: integer
            example: 919
          
          dt:
            type: string
            description: Game date
            example: '11 –¥–µ–∫–∞–±—Ä—è'
          
          tm:
            type: string
            description: Game time in local format
            example: '10:15'
          
          qid:
            type: integer
            description: Quest id
            example: 100
          
          tm24:
            type: string
            description: Game time in 24 hour format
            example: '16:30'
          
          av:
            type: boolean
            description: Timeslot is available for booking
            example: false
          
          pp:
            type: boolean
            description: Game requires a mandatory prepayment for this timeslot
            example: false
          
          partial_only:
            type: boolean
            description: Game requires a mandatory partial prepayment for this timeslot
            example: false
          
          booked:
            type: boolean
            description: Timeslot is booked
            example: false
          
          start:
            type: string
            format: datetime
            description: Timeslot start date and time
            example: '2021-12-06T23:30:00Z'
          
          start_local:
            type: string
            format: datetime
            description: Timeslot start date and time in local format
            example: '2021-12-07T09:00:00+03:00'
          
          start_date:
            type: string
            format: date
            description: Timeslot start date and time in local format
            example: '07.12.2021'
          
          started:
            type: boolean
            description: Timeslot has already started
            example: false
          
          prepay_price:
            type: integer
            description: Prepayment price
            example: 1100
          
          prices_by_tickets_count:
            type: array
            description: Prices by tickets count
            items:
              $ref: '#/components/schemas/Price'
          
          available_payment_backends:
            $ref: '#/components/schemas/PaymentBackend'
          
          price:
            type: integer
            description: Timeslot price
            example: 3100
          
          min_price:
            type: integer
            description: Minimum price per quest
            example: 3100
          
          available_tickets:
            type: integer
            description: Number of available tickets
            example: 4
          
          booked_tickets:
            type: integer
            description: Number of tickets booked
            example: 0
          
          disable_booking:
            type: boolean
            description: The quest has no booking
            example: false
          
          order_url:
            type: string
            description: Relative URL to book this timeslot
            example: '/ru/quest/100/?book=4258794'
          
          analytics_price:
            type: string
            description: The cost of a slot for sending to analytics
            example: '3100.0'
          
          locked:
            type: boolean
            description: Blocked for booking
            example: false
          
          lock_text:
            type: string
            description: Timeslot lock text
            example: 'call_to_book'

          mode_prepay:
            $ref: '#/components/schemas/ModePrepay'
    
    Price:
      type: object
      properties:
        percentage:
          type: number
          format: float
          multipleOf: 0.1
          description: Multiplier of the cost of the game depending on the number of players
          example: 100.0
        price:
          type: integer
          description: Game price
          example: 4100
        gamers_count:
          type: integer
          description: Number of players
          example: 2
    
    ModePrepay:
      type: object
      nullable: true
      description: Prepayment mode
      properties:
        amount_partial_prepay:
          type: integer
          nullable: true
          description: Prepayment amount (absolute value) in prime time
          example: 0
        
        on_prepay:
          type: boolean
          description: Prime time and prepayment enabled
          example: false
        
        percentage_partial_prepay:
          type: integer
          description: Percentage of partial prepayment in prime time
          example: 25
        
        partial_prepay:
          type: boolean
          description: Partial prepayment in prime time enabled
          example: false
        
        full_prepay:
          type: boolean
          description: Full prepayment in prime time enabled
          example: false
        
        show_cash_button_with_prepay:
          type: boolean
          description: Show cash button with prepayment enabled at prime time
          example: false
    
    PaymentBackend:
      type: array
      items:
        type: string
        description: Type and name of the payment method
        example: [ 'kassa','–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞' ]
    
    QuestInfo:
      type: object
      properties:
        complexity_word:
          type: string
          description: Verbal difficulty level
          example: '—Å—Ä–µ–¥–Ω–∏–π'
        
        is_foreign:
          type: boolean
          description: The quest is abroad
          example: false
        
        enable_priceline_min_price:
          type: boolean
          description: Show in the schedule the minimum price per person
          example: false
        
        price_rule:
          type: string
          description: Ticket system
          example: '–ü—Ä—è—Ç–∫–∏ –≤ –ê–ª—å–∫–∞—Ç—Ä–∞—Å–µ UPDATE 01.06.2021'
        
        id:
          type: integer
          description: Quest id
          example: 777
        
        extra_info:
          type: string
          description: Additional text
          example: '–î–≤–∞ —Ä–∞—É–Ω–¥–∞ –ø–æ 30 –º–∏–Ω—É—Ç'
        
        allow_multibooking:
          type: boolean
          description: Allowed to book multiple games for one timeslot
          example: false
        
        back_unblur_url:
          type: string
          format: url
          description: Back unblur image  # Always returns an empty string here (hardcode)
          example: ''
        
        back_blur_url:
          type: string
          format: url
          description: Back blur image
          example: 'https://media.claustrophobia.com/media/qb/777_back_blur_c0fc4e9aa3.jpg'
        
        back_manual_url:
          type: string
          format: url
          example: 'https://media.claustrophobia.com/media/qb/777_back_blur_c0fc4e9aa3.jpg'
        
        quest_page_url:
          type: string
          format: url
          description: Quest page relative url
          example: '/ru/performance/777/'
        
        logo_url:
          type: string
          format: url
          example: 'https://media.claustrophobia.com/media/l/777_logo_hover_3ba8ab003a.png'
        
        logo_hover_url:
          type: string
          format: url
          description: Logo hover link
          example: 'https://media.claustrophobia.com/media/l/777_logo_hover_3ba8ab003a.png'
        
        email:
          type: string
          format: email
          description: Quest email
          example: 'alcatraz@claustrophobia.com'
        
        length_string:
          type: string
          description: Quest duration in words
          example: '60 –º–∏–Ω—É—Ç'
        
        show_per_team_label_in_timetable:
          type: boolean
          description: Show \"Per team\" under the price in the price line
          example: true
        
        analytics_currency_code:
          type: string
          description: Currency code to send to analytics
          example: 'RUB'
        
        phone:
          type: string
          format: phone
          description: Quest phone number
          example: '+7-965-406-69-21'
        
        additional_services:
          type: array
          items:
            $ref: '#/components/schemas/AdditionalService'
        
        available_languages:
          type: array
          items:
            $ref: '#/components/schemas/AvailableLanguage'
        
        address:
          type: string
          format: address
          description: Quest address
          example: '–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, –¥. 32, –∫–æ—Ä–ø. 8'
        
        city_name:
          type: string
          description: Quest city in local language
          example: '–ú–æ—Å–∫–≤–∞'
        
        city_name_ru:
          type: string
          description: Quest city in Russian
          example: '–ú–æ—Å–∫–≤–∞'
        
        prepay:
          type: boolean
          description: Prepayment for the quest is enabled
          example: true
        
        tags_string:
          type: string
          description: Quest tags
          example: '–î–ª—è –±–æ–ª—å—à–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –ü—Ä–æ—Å—Ç—ã–µ, –° –∞–∫—Ç–µ—Ä–∞–º–∏, –°—Ç—Ä–∞—à–Ω—ã–µ'
        
        name:
          type: string
          description: Quest name
          example: '–ü—Ä—è—Ç–∫–∏ –≤ –ê–ª—å–∫–∞—Ç—Ä–∞—Å–µ'
        
        show_from_in_timetable:
          type: boolean
          description: Show \"From\" above the price in the price line
          example: false
        
        quest_type:
          type: string
          description: Quest type
          example: 'performance'
        
        length:
          type: integer
          description: Quest length
          example: 60
        
        location_metro:
          type: string
          description: Metro next to the location
          example: '–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç'
        
        gamers_count_string:
          type: string
          description: Number of players allowed by text
          example: '1-30 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤'
        
        currency_code:
          type: string
          description: Quest currency code
          example: 'RUB'
        
        timeslot_simple_view:
          type: boolean
          description: Timeslot simple view mode
          example: False
    
    QuestInfoWithPercent:
      type: object
      properties:
        similarity:
          type: integer
          example: 95
        
        id:
          type: integer
          description: Quest id
          example: 777
        name:
          type: string
          description: Quest name
          example: '–ü—Ä—è—Ç–∫–∏ –≤ –ê–ª—å–∫–∞—Ç—Ä–∞—Å–µ'
        rating:
          type: string
          example: "9.5"
        gamers_count_string:
          type: string
          description: Number of players allowed by text
          example: '1-30 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤'
        length_string:
          type: string
          description: Quest duration in words
          example: '60 –º–∏–Ω—É—Ç'
        length:
          type: integer
          description: Quest length
          example: 60
        complexity:
          type: integer
          example: 3
        fear_level:
          type: integer
          example: null
        description_ru:
          type: string
          example: –ö–æ–≥–¥–∞-—Ç–æ –≤ —ç—Ç–æ–º –¥–æ–º–µ –≥–æ—Å—Ç–µ–ø—Ä–∏–∏–º–Ω–æ –≥–æ—Ä–µ–ª —Å–≤–µ—Ç –∏ –∑–≤—É—á–∞–ª –¥–µ—Ç—Å–∫–∏–π —Å–º–µ—Ö, –ø–æ–∫–∞ –æ–¥–Ω–∞–∂–¥—ã –≤—Å—è —Å–µ–º—å—è –ö—Ä–∏–≥–µ–ª—å, –∂–∏–≤—à–∞—è –∑–¥–µ—Å—å, –Ω–µ –∏—Å—á–µ–∑–ª–∞. –õ–µ–¥–µ–Ω—è—â–∏–π –¥—É—à—É —É–∂–∞—Å –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ª—é–±–æ–≥–æ, –∫—Ç–æ –æ—Å–º–µ–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏–±–ª–∏–∑–∏—Ç—å—Å—è –∫ –º—Ä–∞—á–Ω–æ–º—É –¥–æ–º—É. –ù–æ —Ä–∞–∑–≤–µ –≤–∞—Å —ç—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç?
        quest_page_url:
          type: string
          format: url
          description: Quest page relative url
          example: '/ru/performance/777/'
        back_blur:
          type: string
          format: url
          description: Back blur image
          example: 'https://media.claustrophobia.com/media/qb/777_back_blur_c0fc4e9aa3.jpg'
        logo_hover:
          type: string
          format: url
          description: Logo hover link
          example: 'https://media.claustrophobia.com/media/l/777_logo_hover_3ba8ab003a.png'
        location:
          type: object
          properties:
            metro:
              type: string
              description: Metro next to the location
              example: '–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç'
            
            address:
              type: string
              format: address
              description: Quest address
              example: '–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, –¥. 32, –∫–æ—Ä–ø. 8'
            
            phone:
              type: string
              format: phone
              description: Quest phone number
              example: '+7-965-406-69-21'
            
            email:
              type: string
              format: email
              description: Quest email
              example: 'alcatraz@claustrophobia.com'
    
    AdditionalService:
      type: object
      description: Additional services for the quest
      properties:
        id:
          type: integer
          description: Service id
          example: 1
        
        price:
          type: integer
          description: Service price
          example: 1200
        
        name:
          type: string
          description: Service name
          example: '–ê–Ω–∏–º–∞—Ç–æ—Ä'
        
        multiple:
          type: boolean
          description: Multiple service
          example: false
        
        maximum:
          type: integer
          description: Maximum amount
          example: 2
        
        description:
          type: string
          description: Service description
          example: '–ü—Ä–æ–π–¥–µ–º –∫–≤–µ—Å—Ç –≤–º–µ—Å—Ç–µ —Å –¥–µ—Ç—å–º–∏ –∏ –ø—Ä–æ—Å–ª–µ–¥–∏–º, —á—Ç–æ–±—ã –≤—Å–µ –±—ã–ª–æ –≤ –ø–æ—Ä—è–¥–∫–µ :) –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –∏–≥—Ä–æ–∫–æ–≤ —É–∫–∞–∑–∞–Ω –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –∫–≤–µ—Å—Ç–∞, —É—Å–ª—É–≥–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ'
    
    AvailableLanguage:
      type: object
      description: Available quest languages
      properties:
        code:
          type: string
          description: Language code
          example: 'ru'
        
        name:
          type: string
          description: Language name
          example: 'Russian'
    
    BookedTimeslotResponse:
      type: object
      properties:
        id:
          type: integer
          description: Timeslot id
          example: 4258793
        
        dt:
          type: string
          description: Game date
          example: '11 –¥–µ–∫–∞–±—Ä—è'
        
        tm:
          type: string
          description: Game time in local format
          example: '10:15'
        
        qid:
          type: integer
          description: Quest id
          example: 100
        
        tm24:
          type: string
          description: Game time in 24 hour format
          example: '16:30'
        
        av:
          type: boolean
          description: Timeslot is available for booking
          example: false
        
        pp:
          type: boolean
          description: Game requires a mandatory prepayment for this timeslot
          example: false
        
        booked:
          type: boolean
          description: Timeslot is booked
          example: false
        
        start:
          type: string
          format: datetime
          description: Timeslot start date and time
          example: '2021-12-06T23:30:00Z'
        
        start_local:
          type: string
          format: datetime
          description: Timeslot start date and time in local format
          example: '2021-12-07T09:00:00+03:00'
        
        start_date:
          type: string
          format: date
          description: Timeslot start date and time in local format
          example: '07.12.2021'
        
        started:
          type: boolean
          description: Timeslot has already started
          example: false
        
        prepay_price:
          type: integer
          description: Prepayment price
          example: 1100
        
        prices_by_tickets_count:
          type: array
          description: Prices by tickets count
          items:
            $ref: '#/components/schemas/Price'
        
        available_payment_backends:
          type: array
          description: Available payment methods
          items:
            $ref: '#/components/schemas/PaymentBackend'
        
        price:
          type: integer
          description: Timeslot price
          example: 3100
        
        min_price:
          type: integer
          description: Minimum price per quest
          example: 3100
        
        available_tickets:
          type: integer
          description: Number of available tickets
          example: 4
        
        disable_booking:
          type: boolean
          description: The quest has no booking
          example: false
        
        order_url:
          type: string
          description: Relative URL to book this timeslot
          example: '/ru/quest/100/?book=4258794'
        
        analytics_price:
          type: string
          description: The cost of a slot for sending to analytics
          example: '3100.0'
        
        locked:
          type: boolean
          description: Blocked for booking
          example: false
        
        lock_text:
          type: string
          description: Timeslot lock text
          example: 'call_to_book'
        
        quest:
          $ref: '#/components/schemas/BookQuestInfo'
        
        currency_sign:
          type: string
          description: Currency sign
          example: '&#8381;'
        
        partial_only:
          type: boolean
          description: Game requires a mandatory partial prepayment for this timeslot
          example: false
        
        partial_prepay:
          type: boolean
          description: Partial prepayment enabled
          example: false
        
        existing_game:
          $ref: '#/components/schemas/ExistingGame'
        
        gtm_params:
          $ref: '#/components/schemas/Gtm'
        
        additional_services:
          type: array
          items:
            $ref: '#/components/schemas/AdditionalService'
        
        mode_prepay:
          $ref: '#/components/schemas/ModePrepay'
    
    Gtm:
      type: object
      properties:
        currency_code:
          type: string
          description: Currency code
          example: 'RUB'
        
        id:
          type: integer
          description: Quest id
          example: 100
        
        category:
          type: string
          description: Quest city name
          example: '–ú–æ—Å–∫–≤–∞'
        
        variant:
          type: string
          description: Quest type
          example: 'quest'
        
        brand:
          type: string
          description: Quest complexity
          example: '—Å—Ä–µ–¥–Ω–∏–π'
        
        dimension6:
          type: string
          description: Quest tags
          example: '–î–ª—è 1-2 –∏–≥—Ä–æ–∫–æ–≤, üéÑ –ù–æ–≤—ã–π –≥–æ–¥, üíù 14 —Ñ–µ–≤—Ä–∞–ª—è'
        
        dimension7:
          type: string
          description: Allowed number of players
          example: '2-4 –∏–≥—Ä–æ–∫–æ–≤'
        
        dimension8:
          type: integer
          description: QUest duration
          example: 60
        
        price:
          type: string
          description: Quest price
          example: '2600.0'
        
        name:
          type: string
          description: Quest name
          example: '–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–∞–º–µ–Ω—å'
    
    BookQuestInfo:
      type: object
      properties:
        id:
          type: integer
          description: Quest id
          example: 100
        
        phone:
          type: string
          format: phone
          description: Quest phone number
          example: '+7-965-406-69-21'
        
        email:
          type: string
          format: email
          description: Quest email
          example: 'alcatraz@claustrophobia.com'
        
        metro:
          type: string
          description: Metro next to the location
          example: '–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç'
        
        address:
          type: string
          format: address
          description: Quest address
          example: '–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, –¥. 32, –∫–æ—Ä–ø. 8'
        
        back_blur:
          type: string
          format: url
          description: Back blur image
          example: 'https://media.claustrophobia.com/media/qb/737_back_blur_c31a02b818.jpg'
        
        back_unblur:
          type: string
          format: url
          description: Back blur image
          example: 'https://media.claustrophobia.com/media/qb/737_back_unblur_00a84e5359.jpg'
        
        hide_adult_content:
          type: boolean
          description: Adult content
          example: false
        
        logo:
          type: string
          format: url
          description: Logo link
          example: 'https://media.claustrophobia.com/media/l/%D0%BC%D1%81%D0%BA_%D0%BA%D1%83%D0%BB%D0%B8%D1%81%D1%8B.png'
        
        logo_hover:
          type: string
          format: url
          description: Logo hover link
          example: 'https://media.claustrophobia.com/media/l/737_logo_hover_060458102a.png'
        
        gamers_count:
          type: integer
          description: Number of players
          example: 2
        
        rating_norm:
          type: string
          description: Rating based on normalization
          example: '5.76'
        
        gamers_count_string:
          type: string
          description: Number of players allowed by text
          example: '1-30 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤'
        
        length_string:
          type: string
          description: Quest duration in words
          example: '60 –º–∏–Ω—É—Ç'
        
        quest_type:
          type: string
          description: Quest type
          example: 'performance'
        
        city_id:
          type: integer
          description: City id (default 1 ‚Äî Moscow)
          example: 1
        
        city_name:
          type: string
          description: Quest city name
          example: '–ú–æ—Å–∫–≤–∞'
        
        country_name:
          type: string
          description: Quest country name
          example: '–†–æ—Å—Å–∏—è'
        
        quest_page_url:
          type: string
          format: url
          description: Quest page relative url
          example: '/ru/performance/777/'
        
        prepay:
          type: boolean
          description: Prepayment for the quest is enabled
          example: true
        
        complexity_string:
          type: string
          description: Verbal difficulty level
          example: '—Å—Ä–µ–¥–Ω–∏–π'
        
        complexity_in_locks:
          type: array
          description: Difficulty of the quest in locks (unlocked or invisible)
          items:
            type: string
          example: [ "locked", "locked", "locked", "unlocked", "unlocked" ]
        
        adult_content:
          type: string
          description: Age qualification
          example: '8'
        
        available_languages:
          type: array
          items:
            $ref: '#/components/schemas/AvailableLanguage'
        
        min_gamers:
          type: integer
          description: Minimum number of players
          example: 1
        
        max_gamers:
          type: integer
          description: Maximum number of players
          example: 8
        
        ym_shop_id:
          type: integer
          description: Yandex Money shop id
          example: 811615
        
        fear_level_in_ghosts:
          type: array
          description: The level of fear (filled or empty)
          items:
            type: string
          example: [ "filled", "filled", "filled", "filled", "filled" ]
        
        allow_multibooking:
          type: boolean
          description: Allowed to book multiple games for one timeslot
          example: false
    
    ExistingGame:
      type: object
      nullable: true
      description: Existing game
      properties:
        id:
          type: integer
          description: Game id
          example: 1182783
        
        timeslot:
          type: integer
          description: Timeslot id
          example: 3004725
        
        owner:
          type: integer
          description: Owner id
          example: 452624
        
        tickets_count:
          type: integer
          description: Tickets count
          example: 0
        
        language_code:
          type: string
          description: Language code
          example: 'ru'

        promo_code:
          type: string
          description: Promo code
          example: 'AAA2A22A'
        
        booking_price:
          type: integer
          description: Booking price
          example: 5900

        partial_prepay:
          type: boolean
          description: Partial prepay enabled
          example: false
        
        prepay_price:
          type: integer
          description: Prepay price
          example: 5900
        
        status:
          type: string
          description: Game status
          example: 'completed'
        
        expires_in:
          type: integer
          description: Game expires in
          example: -61011548

        additional_services_total_amount:
          type: integer
          description: Number of the additional services
          example: 0
        
        discount:
          type: string
          description: Game discount
          example: 'no'

        payment:
          type: string
          description: Payment type
          example: 'online'
        
        extra_price:
          type: integer
          description: Extra price
          example: 0
        
        extra_price_payment:
          type: string
          description: Extra price payment
          example: 'no'

        team_name:
          type: string
          description: Game discount
          example: 'SuperStars'
        
        available_payment_backends:
          type: array
          description: Available payment methods
          items:
            $ref: '#/components/schemas/PaymentBackend'

security:
  - bearerAuth: [ ]